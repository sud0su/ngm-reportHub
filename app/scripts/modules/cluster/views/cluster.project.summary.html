<style>
	.no-active{
		filter: grayscale(1);
	}

	a .card-image.no-active{
		pointer-events: none;
	}
	.disabled-link{
		pointer-events: none;
    cursor: default;
	}
	textarea.materialize-textarea,textarea.materialize-textarea:focus:not([readonly]) {
		border-bottom: 1px solid #e57374;
		-webkit-box-shadow: 0 1px 0 0 #e57374;
		box-shadow: 0 1px 0 0 #e57374
	}
	textarea.materialize-textarea::-webkit-input-placeholder,
	textarea.materialize-textarea:-moz-placeholder,
	textarea.materialize-textarea:-ms-input-placeholder,
	textarea.materialize-textarea::placeholder
	 {
	color: #a7a1a1;
	}
	.btn.delete-project[disabled] {
		background-color: #dfb9b2 !important;
	}
</style>
<!-- complete modal -->
<div id="complete-modal" class="modal">
  <div class="modal-content dialog">
    <h4 class="header-modal blue"><i class="material-icons left small">info_outline</i>{{'mark_project_as_complete' | translate}}</h4>
	<p style="padding-bottom: 0px;margin-bottom: 0px;">You are going to <b>Mark this project as Complete</b>. </br>It'll <b>prevent</b> you / other colleagues to <b>report the ongoing / coming month</b>.</p>
    <p>{{'are_you_sure_you_want_to_mark_this_project_as_complete' | translate}}?</p>
  </div>
  <div class="modal-footer">
	  <a ng-click="panel.markComplete( panel.project )" class=" modal-action modal-close waves-effect waves-green btn">{{'yes_project_complete' | translate}}!</a>
  	<a class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
  </div>
</div>

<!-- complete modal -->
<div id="delete-modal" class="modal">
  <div class="modal-content dialog">
    <h4 class="header-modal red lighten-2"><i class="material-icons left small">delete_forever</i>{{'delete_project' | translate}}</h4>
    <p style="font-weight: 500;">{{'are_you_sure_you_want_to_delete_this_project_and_all_its_associated_data' |translate}}?</p>
	<p style="font-weight:400;background-color: #dcdcdc; border-radius: 5px; font-style: italic;  font-size: 14px;margin: 20px 50px 10px 20px;">
		Once you the delete project, Any of the lost data will not be
		accessible
		anymore and this action can't be recovered by the ReportHub Team.
	</p>
  </div>
  <div class="modal-footer">
	  <a ng-click="panel.deleteProject( panel.project )" class=" modal-action modal-close waves-effect waves-red btn red lighten-2">{{'yes_delete_project' | translate}}!</a>
  	<a class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
  </div>
</div>


<!-- active modal -->
<div id="active-modal" class="modal">
  <div class="modal-content dialog">
    <h4 class="header-modal blue"><i class="material-icons left small">info_outline</i>{{'mark_project_as_active' | translate}}</h4>
    <p>{{'are_you_sure_you_want_to_move_this_project_to_active' | translate}}?</p>
  </div>
  <div class="modal-footer">
	  <a ng-click="panel.markActive( panel.project )" class=" modal-action modal-close waves-effect waves-green btn">{{'yes_move_project_to_active' | translate}}!</a>
  	<a class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
  </div>
</div>
<div id="plan-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal orange">
			<i class="material-icons left small">info_outline</i>Mark Project as Plan</h4>
		<p> Are you seure want to move this project to Plan?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="panel.markPlan( panel.project )" class=" modal-action modal-close waves-effect waves-green btn">Yes, Move Project to Plan!</a>
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>
<div id="not-implemented-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal grey">
			<i class="material-icons left small">info_outline</i>Mark Project as Not Implemented</h4>
		<p>Are you seure want to move this project to Not Implemented?</p>
	</div>
	<div class="modal-footer">
		<a ng-click="panel.markNotImplemented( panel.project )" class=" modal-action modal-close waves-effect waves-green btn">Yes, Move Project to Not Implemented!</a>
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
	</div>
</div>

<!-- request delete modal -->
<div id="send-request-delete-project-modal" class="modal">
	<div class="modal-content dialog">
		<h4 class="header-modal red lighten-2"><i class="material-icons left small">delete_forever</i>Request {{'delete_project' |
			translate}}</h4>
		
		<div class="row" style="margin: 20px 50px 10px 50px;">
			<br>
			<div class="card" style="padding:20px;">
			
				<div class="row">
			
					<div class="input-field col s12 m12 l12 ">
						<textarea id="ngm-req-reason-delete" 
								  type="text" 
								  class="validate materialize-textarea" 
								  name="ngm-req-reason-delete"
								  style="min-height: 2rem !important;"
								  ng-model="panel.reason_to_delete_project" >
						</textarea>
						<label class="red-text lighten-2 active" for="ngm-req-reason-delete">Reason for deleting the project?</label>
						<span class="helper-text">Please describe the reason for us to delete the project with a minimum of 20 characters. Depending on the reason, the
						admin might not accept the request to delete the project.</span>
					</div>			
				</div>
			
			</div>
			<p style="font-weight:500;padding-left: 2px;">Are you sure you want to REQUEST to  DELETE this PROJECT and all its associated data?</p>
			<p style="font-weight:400;background-color: #dcdcdc; border-radius: 5px; font-style: italic;  padding: 10px 15px; font-size: 14px;">
				Once the delete project request has been submitted, your delete request can't be canceled and you are agree to have the
				admin remove all the project data including the submitted monthly report. Any of the lost data will not be accessible
				anymore and this action can't be recovered by the ReportHub Team.
			</p>
		</div>
	</div>
	<div class="modal-footer">
		<button 
			ng-click="panel.sendRequestToDeleteProject( panel.reason_to_delete_project )"
			class=" modal-action modal-close waves-effect waves-red btn delete-project red lighten-2" 
			ng-disabled="panel.checkTheReason(panel.reason_to_delete_project)"> <i class="material-icons left">send</i> Send Request</button>
		<button class=" modal-action modal-close waves-effect waves-green btn-flat" ng-click="panel.sendRequestToDeleteProject('cancel_send_request')">No</button>
	</div>
</div>
	<!-- panels -->
	<div class="row" ng-if="panel.project.admin0pcode === 'AF' || panel.project.admin0pcode === 'COL' || panel.project.admin0pcode === 'NG'">
	  <div class="col s12 m12 l4">
	  	<a href="#/cluster/projects/details/{{ panel.project.id }}">
	   	 <div class="card small blue-grey darken-1 hoverable">
	      <div class="card-image">
	        <img src="images/cluster/details-1.jpg">
	      </div>
	      <div class="card-content white-text">
			<p ng-if="panel.project.admin0pcode !== 'AF'" class="card-title">{{'project_plan'|translate}}</p>
			<p ng-if="panel.project.admin0pcode === 'AF'" class="card-title">{{'planned_activities'|translate}}</p>
	      </div>
	      <div class="card-action">
			<a ng-if="panel.project.admin0pcode !== 'AF'" class="left" href="#/cluster/projects/details/{{ panel.project.id }}">{{'go_to_project_plan'|translate}}</a>
			<a ng-if="panel.project.admin0pcode === 'AF'" class="left"
				href="#/cluster/projects/details/{{ panel.project.id }}">{{'go_to_activity_plan'|translate}}</a>
	      </div>
	    </div>
	    </a>
	  </div>
	  <div class="col s12 m12 l4">
			<a href="#/cluster/projects/financials/{{ panel.project.id }}"
				ng-class="{'disabled-link':panel.project.project_status === 'new'
										|| panel.project.project_status === 'plan'
										|| panel.project.project_status === 'not_implemented' }">
		    <div class="card small blue-grey darken-1 hoverable" ng-class="{'disabled-link':panel.project.project_status === 'new' || panel.project.project_status === 'plan' || panel.project.project_status === 'not_implemented'}">
		      <div class="card-image" ng-class="{'no-active':panel.project.project_status === 'new' || panel.project.project_status === 'plan' || panel.project.project_status === 'not_implemented'}">
		        <img src="images/cluster/reports.jpg">
		      </div>
		      <div class="card-content white-text">
		        <p class="card-title">{{'financial_reports'|translate}}</p>
		      </div>
		      <div class="card-action">
		        <a class="left" ng-class="{'white-text disabled-link':panel.project.project_status === 'new' || panel.project.project_status === 'plan' || panel.project.project_status === 'not_implemented'}" href="#/cluster/projects/financials/{{ panel.project.id }}">{{'go_to' | translate}} {{'financial_reports' | translate}}</a>
		      </div>
		    </div>
		   </a>
	  </div>
	  <div class="col s12 m12 l4">
	  	<a href="#/cluster/projects/report/{{ panel.project.id }}" ng-class="{'disabled-link':panel.project.project_status === 'new' || panel.project.project_status === 'plan' || panel.project.project_status === 'not_implemented'}">
		    <div class="card small blue-grey darken-1 hoverable" ng-class="{'disabled-link':panel.project.project_status === 'new' || panel.project.project_status === 'plan' || panel.project.project_status === 'not_implemented'}">
		      <div class="card-image" ng-class="{'no-active':panel.project.project_status === 'new' || panel.project.project_status === 'plan' || panel.project.project_status === 'not_implemented'}" >
		        <img src="images/cluster/monthly_report.jpg">
		      </div>
		      <div class="card-content white-text">
		        <p class="card-title">{{'monthly_progress'|translate}}</p>
		      </div>
		      <div class="card-action">
		        <a class="left" ng-class="{'white-text disabled-link':panel.project.project_status === 'new' || panel.project.project_status === 'plan' || panel.project.project_status === 'not_implemented'}" href="#/cluster/projects/report/{{ panel.project.id }}">{{'go_to_monthly_progress'|translate}}</a>
		      </div>
		    </div>
		   </a>
		</div>


	</div>

	<!-- panels -->
	<div class="row" ng-if="panel.project.admin0pcode !== 'AF' && panel.project.admin0pcode !== 'COL' && panel.project.admin0pcode !== 'NG'">
	  <div class="col s12 m12 l6">
	  	<a href="#/cluster/projects/details/{{ panel.project.id }}">
	   	 <div class="card small blue-grey darken-1 hoverable">
	      <div class="card-image">
	        <img src="images/cluster/details-1.jpg">
	      </div>
	      <div class="card-content white-text">
	      	<p class="card-title">{{'project_plan'|translate}}</p>
	      </div>
	      <div class="card-action">
	        <a class="left" href="#/cluster/projects/details/{{ panel.project.id }}">{{'go_to_project_plan'|translate}}</a>
	      </div>
	    </div>
	    </a>
	  </div>
	  <div class="col s12 m12 l6">
	  	<a href="#/cluster/projects/report/{{ panel.project.id }}">
		    <div class="card small blue-grey darken-1 hoverable">
		      <div class="card-image">
		        <img src="images/cluster/monthly_report.jpg">
		      </div>
		      <div class="card-content white-text">
		        <p class="card-title">{{'monthly_progress'|translate}}</p>
		      </div>
		      <div class="card-action">
		        <a class="left" href="#/cluster/projects/report/{{ panel.project.id }}">{{'go_to_monthly_progress'|translate}}</a>
		      </div>
		    </div>
		   </a>
	  </div>
	</div>

	<!-- project to complete -->
	<!-- disabled -->
	<fieldset ng-if="panel.canEdit" ng-disabled="!panel.canEdit">
		<div class="row" ng-if="panel.project.project_status === 'active'">
			<div class="col s12 m12 l12">
				<div class="widget card-panel white grey-text text-darken-2">
					<!-- submission -->
					<div align="center">
						<button ng-if="panel.project.admin0pcode !== 'AF'" data-target="complete-modal" class="waves-effect waves-light btn modal-trigger blue" ng-cloak>
							<i class="material-icons left">assignment_turned_in</i>{{'mark_project_as_complete' | translate}}
						</button>
						<button ng-if="panel.project.admin0pcode === 'AF'" data-target="complete-modal"
							class="waves-effect waves-light btn modal-trigger blue" ng-cloak>
							<i class="material-icons left">assignment_turned_in</i>{{'mark_activity_plan_as_complete' | translate}}
						</button>
						<br/>
						<br/>
						<button ng-if="panel.project.admin0pcode !== 'AF'" data-target="delete-modal" class="waves-effect waves-light btn modal-trigger red lighten-2" ng-cloak>
							<i class="material-icons left">delete_forever</i>{{'delete_project' | translate}}
						</button>
						<button ng-if="(panel.project.admin0pcode === 'AF') && panel.canDelete" data-target="delete-modal"
							class="waves-effect waves-light btn modal-trigger red lighten-2" ng-cloak>
							<i class="material-icons left">delete_forever</i>{{'delete_activity_plan' | translate}}
						</button>
						<button ng-if="(panel.project.admin0pcode === 'AF') && !panel.canDelete" data-target="send-request-delete-project-modal"
							class="waves-effect waves-light btn modal-trigger red lighten-2" ng-cloak>
							<i class="material-icons left">delete_forever</i> Request Delete Project
						</button>
					</div>
				</div>
			</div>
		</div>
		<!-- project to active -->
		<div class="row" ng-if="panel.project.project_status === 'complete'">
			<div class="col s12 m12 l12">
				<div class="widget card-panel white grey-text text-darken-2">
					<!-- submission -->
					<div align="center">
						<button ng-if="panel.project.admin0pcode !== 'AF'"data-target="active-modal" class="waves-effect waves-light btn modal-trigger blue" ng-cloak>
							<i class="material-icons left">assignment_turned_in</i>{{'mark_project_as_active' | translate}}
						</button>
						<button ng-if="panel.project.admin0pcode === 'AF'" data-target="active-modal"
							class="waves-effect waves-light btn modal-trigger blue" ng-cloak>
							<i class="material-icons left">assignment_turned_in</i>{{'mark_activity_plan_as_active' | translate}}
						</button>
						<br/>
						<br/>
					</div>
				</div>
			</div>
		</div>
	</fieldset>

<script type="text/javascript">
  // modals
	$(document).ready(function(){
		$('.modal').modal();
	})
</script>
